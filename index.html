
  
  
  
  
Gyna.pdf

  
  
  
  
Document from Dalia Shaaban

  
  
  
  
Images for the Practical Exam _3ff45b61577402989be45c40bc24ff24.pdf

  
  
  
  
Model Answer for the Mock Exam_c6ed52037c96a7c812ed14af86213ebe.pdf
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>90 Days of Glam, Grind, and Graduation! (Online)</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Load Tone.js for sound effects -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <style>
        /* --- CUSTOM COLOR VARIABLES (Navy, Yellow/Gold, White) --- */
        :root {
            --primary: #1e3a8a; /* Dark Navy Blue */
            --secondary: #facc15; /* Yellow/Gold/Vibrant Pop */
            --background: #f1f5f9; /* Light Gray/White */
            --text-dark: #1f2937; /* Very Dark Gray */
            --text-light: #ffffff;
            --checked: #06b6d4; /* Vibrant Cyan/Teal for checked state (for pop) */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background);
        }
        .container-card {
            /* Enhanced Glam Shadow */
            box-shadow: 0 15px 30px rgba(30, 58, 138, 0.2), 0 6px 10px rgba(0, 0, 0, 0.1);
        }
        .day-cell {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            user-select: none;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            aspect-ratio: 1 / 1; /* Ensures square boxes */
        }
        .day-cell.checked {
            background-color: var(--checked);
            color: var(--text-light);
            transform: scale(1.05);
            box-shadow: 0 4px 6px -1px rgba(6, 182, 212, 0.5); /* Pop for checked */
        }
        .day-cell:not(.checked):hover {
            background-color: #fef9c3; /* Very light yellow hover */
        }
        .day-cell.checked span {
            font-weight: 700;
        }
        .fireworks {
            animation: pop 0.5s ease-out;
        }
        @keyframes pop {
            0% { transform: scale(0.5); opacity: 0; }
            80% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* --- FINAL DAY POP-UP EFFECT (In-Flow for Capture) --- */
        .final-day-pop {
            animation: pulse 1.5s infinite;
            border: 3px solid var(--secondary); /* Yellow border */
            padding: 1rem;
            border-radius: 0.75rem;
            background-color: #fffbef; /* Very light yellow highlight */
            transition: all 0.3s ease-in-out;
            margin-top: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 0 15px rgba(250, 204, 21, 0.6);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(250, 204, 21, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(250, 204, 21, 0); }
            100% { box-shadow: 0 0 0 0 rgba(250, 204, 21, 0); }
        }

        /* --- CENTERED MODAL FOR FINAL DAY (Interactive Only) --- */
        #final-message-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(30, 58, 138, 0.9); /* Semi-transparent Navy overlay */
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            z-index: 50; /* Above all content */
            backdrop-filter: blur(5px);
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        #final-message-modal.show {
            display: flex;
            opacity: 1;
        }
        .modal-content {
max-width: 90%;
            padding: 2rem;
            border-radius: 1.5rem;
            text-align: center;
            animation: modal-pop 0.3s ease-out;
            /* Added for visual effect */
            position: relative;
            overflow: hidden; 
        }
        
        /* CONFETTI/BALLOON EFFECT */
        .modal-content::before, .modal-content::after {
            content: 'ðŸŽˆðŸŽ‰ðŸŽŠ'; /* Emojis for confetti/balloons */
            position: absolute;
            top: 0;
            opacity: 0;
            font-size: 2rem;
            animation: confetti-drop 3s ease-in-out infinite;
            pointer-events: none;
        }
        .modal-content::before {
            left: 5%;
            animation-delay: 0s;
        }
        .modal-content::after {
            right: 5%;
            animation-delay: 1.5s;
        }
        @keyframes confetti-drop {
            0% { transform: translateY(-100%) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            50% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        @keyframes modal-pop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* --- GRID LAYOUT DEFINITIONS --- */
        #countdown-grid {
            /* Mobile: 5 columns */
            display: grid;
            grid-template-columns: repeat(5, minmax(0, 1fr));
        }
        @media (min-width: 640px) { /* sm breakpoint: 10 columns */
            #countdown-grid {
                grid-template-columns: repeat(10, minmax(0, 1fr));
            }
        }
        @media (min-width: 1024px) { /* lg breakpoint: 15 columns for wider view/download */
            #countdown-grid {
                grid-template-columns: repeat(15, minmax(0, 1fr));
            }
        }
    </style>

    <script type="module">
        // --- FIREBASE IMPORTS ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- GLOBAL VARIABLES (MANDATORY FIREBASE) ---
        const appId = typeof app_id !== 'undefined' ? app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof firebase_config !== 'undefined' ? firebase_config : '{}');

        // --- APPLICATION CONSTANTS ---
        const MAX_DAYS = 90;
        const FIREBASE_COLLECTION = 'graduation_tracker';
        const FIREBASE_DOC_ID = 'days_state';
        
        // --- GLOBAL STATE ---
        let db = null;
        let auth = null;
        let userId = null;
        let currentDaysState = {}; // In-memory cache of the checked days: {"1": true, "5": true, ...}
        
        // --- REFERENCES ---
        const countdownGrid = document.getElementById('countdown-grid');
        const statusMessageEl = document.getElementById('status-message');
        const daysRemainingEl = document.getElementById('days-remaining');
        const countdownMessageEl = document.getElementById('countdown-message');
        const modal = document.getElementById('final-message-modal');
        const modalContentEl = document.getElementById('modal-quote');

        // --- UTILITIES ---

        /**
         * Plays a whistle sound effect for a daily check-off.
         */
        function playDailyCheckSound() {
            try {
                if (Tone.context.state !== 'running') { Tone.context.resume(); }
                const synth = new Tone.Synth({
volume: -15, 
                    oscillator: { type: 'sine' },
                    envelope: { attack: 0.01, decay: 0.1, sustain: 0, release: 0.2 }
                }).toDestination();
                synth.triggerAttackRelease("A6", "8n"); 
                setTimeout(() => synth.dispose(), 500); 
            } catch (e) {
                console.error("Error playing daily sound:", e);
            }
        }

        /**
         * Plays a "Tada!" arpeggio sound for a 10-day milestone.
         */
        function playMilestoneClapSound() { 
            try {
                if (Tone.context.state !== 'running') { Tone.context.resume(); }
                const synth = new Tone.PolySynth(Tone.Synth, {
                    volume: -10, 
                    oscillator: { type: 'triangle' },
                    envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.1 }
                }).toDestination();
                
                const now = Tone.now();
                const notes = ["C5", "E5", "G5", "C6"]; 
                const duration = "16n";
                
                synth.triggerAttackRelease(notes[0], duration, now);
                synth.triggerAttackRelease(notes[1], duration, now + 0.1);
                synth.triggerAttackRelease(notes[2], duration, now + 0.2);
                synth.triggerAttackRelease(notes[3], duration, now + 0.3);

                setTimeout(() => synth.dispose(), 800); 

            } catch (e) {
                console.error("Error playing milestone sound:", e);
            }
        }
        
        /**
         * Plays a drum roll leading to a fanfare for the final victory (0 days remaining).
         */
        function playVictorySound() {
            try {
                if (Tone.context.state !== 'running') { Tone.context.resume(); }

                const now = Tone.now();
                
                const rollSynth = new Tone.NoiseSynth({
                    volume: -15,
                    noise: { type: 'white' },
                    envelope: { attack: 0.005, decay: 0.05, sustain: 0, release: 0.05 }
                }).toDestination();
                
                let time = now;
                for (let i = 0; i < 15; i++) {
                    rollSynth.triggerAttackRelease("32n", time);
                    time += 0.05; 
                }

                const finalSynth = new Tone.PolySynth(Tone.Synth, {
                    volume: -8,
                    oscillator: { type: 'sawtooth' },
                    envelope: { attack: 0.05, decay: 0.5, sustain: 0.1, release: 1 }
                }).toDestination();
                
                const finalNotes = ["C5", "E5", "G5", "C6"]; 
                finalSynth.triggerAttackRelease(finalNotes, "1.5n", now + 0.75); 

                setTimeout(() => {
                    rollSynth.dispose();
                    finalSynth.dispose();
                }, 2500); 

            } catch (e) {
                console.error("Error playing victory sound:", e);
            }
        }

        // --- FIRESTORE FUNCTIONS ---

        /**
         * Generates the document reference path for the current user's data.
         * Path: /artifacts/{appId}/users/{userId}/graduation_tracker/days_state
         */
        function getDataDocRef(uid) {
            return doc(db, 'artifacts', appId, 'users', uid, FIREBASE_COLLECTION, FIREBASE_DOC_ID);
        }

        /**
         * Saves the current in-memory state to Firestore.
         * This function is debounced in toggleDay to prevent excessive writes.
         */
        async function saveDataToFirestore(daysState) {
            if (!db || !userId) {
                statusMessageEl.textContent = "Error: Database not ready or not authenticated. Cannot save.";
                return;
            }
try {
                const docRef = getDataDocRef(userId);
                await setDoc(docRef, { 
                    daysState: daysState,
                    lastUpdated: new Date().toISOString()
                }, { merge: false }); // Overwrite the whole state for simplicity
                
                statusMessageEl.textContent = Progress saved online. User ID: ${userId.substring(0, 8)}...;

            } catch (error) {
                console.error("Error saving document:", error);
                statusMessageEl.textContent = Error saving online: ${error.message};
            }
        }
        
        /**
         * Sets up the real-time listener for the user's saved data.
         * This replaces the need for an explicit "load" function.
         */
        function startDataListener(uid) {
            const docRef = getDataDocRef(uid);
            
            // onSnapshot keeps the local state in sync with the database
            onSnapshot(docRef, (docSnapshot) => {
                if (docSnapshot.exists()) {
                    const data = docSnapshot.data();
                    // Update the global state with the data from Firestore
                    currentDaysState = data.daysState || {};
                    // Then, update the UI based on the new state
                    updateUIFromState(currentDaysState);
                } else {
                    // Document doesn't exist (first run), initialize with empty state
                    currentDaysState = {};
                    updateUIFromState(currentDaysState);
                    statusMessageEl.textContent = "Online tracker initialized. Start checking days!";
                }
            }, (error) => {
                console.error("Firestore real-time listener error:", error);
                statusMessageEl.textContent = Error loading data: ${error.message};
            });
        }

        // --- CORE LOGIC FUNCTIONS ---

        /**
         * Toggles the checked state of a specific day and triggers the save function.
         * @param {number} dayIndex - The day number (1 to 90).
         */
        function toggleDay(dayIndex) {
            if (!userId) {
                statusMessageEl.textContent = "Please wait for authentication to complete before checking days.";
                return;
            }
            
            const dayKey = String(dayIndex);
            
            const isCurrentlyChecked = currentDaysState[dayKey] || false;
            const willBeChecked = !isCurrentlyChecked;

            // 1. Update In-Memory State
            if (isCurrentlyChecked) {
                delete currentDaysState[dayKey];
            } else {
                currentDaysState[dayKey] = true;
            }
            
            // 2. Trigger UI Update (this will show the change immediately)
            const totalCheckedInNewState = Object.keys(currentDaysState).length;
            const newRemainingDays = MAX_DAYS - totalCheckedInNewState;
            updateUIFromState(currentDaysState, true); // Force update for sound logic

            // 3. Trigger Firestore Save
            saveDataToFirestore(currentDaysState);
            
            // --- SOUND LOGIC based on the NEW state ---
            if (willBeChecked) {
                if (newRemainingDays === 0) { 
                    playVictorySound(); 
                } else if (newRemainingDays > 0 && newRemainingDays % 10 === 0) {
                    playMilestoneClapSound(); 
                } else {
                    playDailyCheckSound();
                }
            }
            // --- END SOUND LOGIC ---

            // Add temporary fireworks effect on cell (pop animation)
            if (willBeChecked) {
                const cell = document.querySelector([data-day="${dayIndex}"]);
                if (cell) {
                    cell.classList.add('fireworks');
                    setTimeout(() => cell.classList.remove('fireworks'), 500);
                }
            }
        }
/**
         * Updates the UI (grid, counters, messages) based on the current state object.
         * @param {Object} daysState - The object mapping day index strings to booleans.
         */
        function updateUIFromState(daysState) {
            if (!countdownGrid || !modal) return;

            // Hide modal by default
            modal.classList.remove('show');

            let checkedDays = 0;
            
            // Iterate over all cells and update their class
            const cells = countdownGrid.querySelectorAll('.day-cell');
            cells.forEach(cell => {
                const dayIndex = cell.dataset.day;
                const isChecked = daysState[dayIndex];
                
                cell.classList.remove('checked', 'fireworks');
                if (isChecked) {
                    cell.classList.add('checked');
                    checkedDays++;
                }
            });

            // Update the remaining days counter
            const remainingDays = MAX_DAYS - checkedDays;
            daysRemainingEl.textContent = remainingDays;

            // Display graduation message if done
            if (remainingDays === 0) {
                countdownMessageEl.textContent = "âœ¨ YOU DID IT, BATCH 74! Pop the bubbly! ðŸ¥‚";
                countdownGrid.classList.add('opacity-50');
            } else {
                countdownGrid.classList.remove('opacity-50');
                updateMotivationalMessage(remainingDays);
                
                // Show the centered modal for the final day (T-MINUS ONE DAY)
                if (remainingDays === 1) {
                    modal.classList.add('show');
                }
            }
            
            // Update the status message (only update user ID part here)
            if (userId) {
                 statusMessageEl.textContent = Progress saved online. User ID: ${userId.substring(0, 8)}...;
            } else {
                 statusMessageEl.textContent = "Connecting to cloud storage...";
            }
        }

        /**
         * Updates the motivational message based on days remaining.
         * @param {number} remainingDays - The number of days left.
         */
        function updateMotivationalMessage(remainingDays) {
            countdownMessageEl.classList.remove('final-day-pop');

            let message = "Keep shining, you've got this!";

            if (remainingDays === MAX_DAYS) {
                message = "The final countdown begins! Go get that bachelor's, Batch 74!";
            } else if (remainingDays === 1) {
                message = "âš¡ T-MINUS ONE DAY! You are gold, Batch 74! Time to shine and collect that bachelor's degree!";
                countdownMessageEl.classList.add('final-day-pop');
                modalContentEl.textContent = message;
            } else if (remainingDays <= 89 && remainingDays >= 81) {
                message = "Day 1 down! You've officially started the journey. Keep your vibes high and your coffee strong, Batch 74!";
            } else if (remainingDays <= 80 && remainingDays >= 71) {
                message = "80s club! You've crushed the first 10. You're unstoppable!";
            } else if (remainingDays <= 70 && remainingDays >= 61) {
                message = "70 days left. If graduation were a movie, this is the montage where you become unstoppable. Soundtrack ready!";
            } else if (remainingDays <= 60 && remainingDays >= 51) {
                message = "60 days gone! You're halfway to fabulous. You deserve a treat (and maybe a quick nap). Worth it!";
            } else if (remainingDays <= 50 && remainingDays >= 41) {
                message = "Mid-point mania! Only 50 days between you and freedom. Stay gold, Batch 74, stay gold!";
            } else if (remainingDays <= 40 && remainingDays >= 31) {
message = "40 days? That's just four short weeks! Time to focus and finalize your legendary status.";
            } else if (remainingDays <= 30 && remainingDays >= 21) {
                message = "Under a month! Your future self is sending you positive energy and champagne. Now, finish strong!";
            } else if (remainingDays <= 20 && remainingDays >= 11) {
                message = "20 days left! This is your runway moment. Strut into that finish line with style and grace!";
            } else if (remainingDays <= 10 && remainingDays >= 2) {
                message = "Single digits alert! You're in the final sprint. Keep your focus sharp and your sense of humor sharper!";
            } 
            
            countdownMessageEl.textContent = message;
        }

        /**
         * Generates the 90 day cells and attaches the click listeners.
         */
        function setupCountdownGrid() {
            if (!countdownGrid) return;

            for (let i = 1; i <= MAX_DAYS; i++) {
                const cell = document.createElement('div');
                cell.className = 'day-cell bg-white border border-blue-200 text-text-dark rounded-xl shadow-lg hover:shadow-xl';
                cell.dataset.day = i;
                cell.innerHTML = <span class="text-xl font-bold">${i}</span><span class="text-xs">Day</span>;

                if (i % 10 === 0 && i !== MAX_DAYS) {
                    cell.innerHTML = <span class="text-xl font-bold">${i}</span><span class="text-xs">Milestone! ðŸ¥‚</span>;
                } else if (i === MAX_DAYS) {
                     cell.innerHTML = <span class="text-xl font-bold">${i}</span><span class="text-xs">GRAD DAY! ðŸŽ“</span>;
                     cell.classList.add('bg-primary', 'text-white', 'font-black');
                     cell.style.backgroundColor = 'var(--primary)';
                }

                cell.addEventListener('click', function() {
                    toggleDay(i);
                });
                countdownGrid.appendChild(cell);
            }
        }
        
        /**
         * Initializes Firebase and starts the authentication listener.
         */
        async function initializeAppAndAuth() {
            if (Object.keys(firebaseConfig).length === 0) {
                statusMessageEl.textContent = "FATAL ERROR: Firebase configuration is missing.";
                return;
            }

            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                setLogLevel('Debug'); // Enable logs for debugging

                statusMessageEl.textContent = "Connecting to cloud storage...";

                const initialAuthToken = typeof initial_auth_token !== 'undefined' ? initial_auth_token : null;

                // Handle Authentication
                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        userId = user.uid;
                        statusMessageEl.textContent = Connected! User ID: ${userId.substring(0, 8)}...;
                        
                        // Start the real-time listener once authenticated
                        startDataListener(userId);
                    } else {
                        userId = null;
                        statusMessageEl.textContent = "Authentication Failed or Signed Out. Cannot save.";
                    }
                });

                // Sign in using the token or anonymously if no token is present
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

            } catch (error) {
                console.error("Firebase Initialization or Auth Error:", error);
                statusMessageEl.textContent = Error during setup: ${error.message};
            }
        }
